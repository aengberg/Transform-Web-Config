name: 'Transform Web Config'
description: 'Uses Microsoft.Web.XmlTransform to transform Web.config files without msbuild'

branding:
  icon: 'external-link'
  color: 'green'
  
inputs:
    basefile:
        description: 'Base Web Config file (Web.config)'
        type: string
    transformfile:
        description: 'Transform Web Config file (Web.*.config)'
        type: string

runs:
    using: "composite"
    steps:
    - name: Transform Web Config
      shell: powershell
      run: | 
        echo ${{ inputs.basefile }} ${{ inputs.transformfile }}
        . ${{ github.action_path }}\scripts\TransformWebConfig.ps1
        TransformWebConfig "${{ inputs.basefile }}" "${{ inputs.transformfile }}"